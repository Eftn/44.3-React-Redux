{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eftn\\\\OneDrive\\\\react-router\\\\react-redux-patterns-demo\\\\redux-shoply-solution\\\\src\\\\Cart.js\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport { applyDiscount } from \"./actions\";\nimport CartIcons from \"./CartIcons\";\n/** Shopping cart.\n *\n * Connects to store to get info about cart and dispatches actions to store\n * on adding to cart.\n *\n * Routes /cart -> Cart -> CartIcons\n *\n */\n\nfunction Cart() {\n  const [discount, setDiscount] = useState(\"\");\n  const dispatch = useDispatch();\n  const {\n    cartItems,\n    cartValue,\n    discountAmount,\n    discountApplied,\n    products\n  } = useSelector(store => store, shallowEqual);\n\n  function handleChange(evt) {\n    setDiscount(evt.target.value);\n  }\n\n  function handleDiscount(evt) {\n    evt.preventDefault();\n    dispatch(applyDiscount(discount));\n    setDiscount(\"\");\n  }\n\n  function renderTable() {\n    const itemRows = Object.keys(cartItems).map(id => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/products/\".concat(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, products[id].name)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, \"$\", products[id].price), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, cartItems[id]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CartIcons, {\n      id: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }))));\n    return /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"Item Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Item Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, \"Item Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, itemRows));\n  }\n\n  return cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"No items in cart yet!\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, renderTable(), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Total: $\", cartValue, discountApplied ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"- You saved \", (discountAmount * 100).toFixed(0), \"%!\") : null), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleDiscount,\n    className: \"form-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"discount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Discount:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"discount\",\n    name: \"discount\",\n    className: \"form-control ml-2 mr-2\",\n    value: discount,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Apply Discount\")));\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/eftn/OneDrive/react-router/react-redux-patterns-demo/redux-shoply-solution/src/Cart.js"],"names":["React","useState","Link","useSelector","useDispatch","shallowEqual","applyDiscount","CartIcons","Cart","discount","setDiscount","dispatch","cartItems","cartValue","discountAmount","discountApplied","products","store","handleChange","evt","target","value","handleDiscount","preventDefault","renderTable","itemRows","Object","keys","map","id","name","price","length","toFixed"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch, shallowEqual } from \"react-redux\";\nimport { applyDiscount } from \"./actions\";\nimport CartIcons from \"./CartIcons\";\n\n/** Shopping cart.\n *\n * Connects to store to get info about cart and dispatches actions to store\n * on adding to cart.\n *\n * Routes /cart -> Cart -> CartIcons\n *\n */\n\nfunction Cart() {\n  const [discount, setDiscount] = useState(\"\");\n  const dispatch = useDispatch();\n  const {\n    cartItems,\n    cartValue,\n    discountAmount,\n    discountApplied,\n    products,\n  } = useSelector((store) => store, shallowEqual);\n\n  function handleChange(evt) {\n    setDiscount(evt.target.value);\n  }\n\n  function handleDiscount(evt) {\n    evt.preventDefault();\n    dispatch(applyDiscount(discount));\n    setDiscount(\"\");\n  }\n\n  function renderTable() {\n    const itemRows = Object.keys(cartItems).map(id => (\n      <tr key={id}>\n        <td className=\"text-center align-middle\">\n          <Link to={`/products/${id}`}>{products[id].name}</Link>\n        </td>\n        <td className=\"text-center align-middle\">${products[id].price}</td>\n        <td className=\"text-center align-middle\">{cartItems[id]}</td>\n        <td>\n          <CartIcons id={id} />\n        </td>\n      </tr>\n    ));\n\n    return (\n      <table className=\"table table-bordered table-striped\">\n        <thead>\n          <tr>\n            <th>Item Name</th>\n            <th>Item Price</th>\n            <th>Item Quantity</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>{itemRows}</tbody>\n      </table>\n    );\n  }\n\n  return cartItems.length === 0\n    ? <h2>No items in cart yet!</h2>\n    : (\n      <div>\n        {renderTable()}\n        <p>\n          Total: ${cartValue}\n          {discountApplied ? (\n            <span className=\"text-success\">\n              - You saved {(discountAmount * 100).toFixed(0)}%!\n            </span>\n          ) : null}\n        </p>\n\n        <form onSubmit={handleDiscount} className=\"form-inline\">\n          <label htmlFor=\"discount\">Discount:</label>\n          <input\n            id=\"discount\"\n            name=\"discount\"\n            className=\"form-control ml-2 mr-2\"\n            value={discount}\n            onChange={handleChange}\n          />\n          <button className=\"btn btn-primary\">Apply Discount</button>\n        </form>\n      </div>\n    );\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}